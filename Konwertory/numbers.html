<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konwertor liczb</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body>
    <nav>
        <ul id="nav-main-list">
            <li class="nav-element">
                <a href="index.html"><h3>STRONA</h3></a>
            </li>
            <li class="nav-element">
                <h3>Konwertory</h3>
                <ul class="nav-list">
                    <li class="nav-element">
                        <a href="Konwertory/numbers.html"><h3>Systemy liczbowe</h3></a>
                    </li>
                    <li class="nav-element">
                        <a href="Konwertory/units.html"><h3>Jednostki pomiaru</h3></a>
                    </li>
                </ul>
            </li>
            <li class="nav-element">
                <h3>Kalkulatory</h3>
                <ul class="nav-list">
                    <li class="nav-element">
                        <a href="Kalkulatory/subnet.html"><h3>Podsieć</h3></a>
                    </li>
                    <li class="nav-element">
                        <a href="Kalkulatory/triangle.html"><h3>Trójkąt</h3></a>
                    </li>
                    <li class="nav-element">
                        <h3>IDK PLACEHOLDER</h3>
                    </li>
                </ul>
            </li>
            <li class="nav-element">
                <h3>Informacje</h3>
                <ul class="nav-list">
                    <li class="nav-element">
                        <a href="https://github.com/tortoise501/StronaProj"><h3>Link na GitHub repozytorium</h3></a>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>
    <main>
        <div id="content">
            <form onsubmit="return convert(this.inputNumber,this.inputType,this.outputType)">
                <input type="number" name="inputNumber" id="inputNumber">
                <br>
                <select name="inputType" id="inputType">
                    <option value="2">(2)</option>
                    <option value="8">(8)</option>
                    <option value="10">(10)</option>
                    <option value="16">(16)</option>
                </select>
                ->
                <select name="outputType" id="outputType">
                    <option value="2">(2)</option>
                    <option value="8">(8)</option>
                    <option value="10">(10)</option>
                    <option value="16">(16)</option>
                </select>
                <br>
                <span style="background-color: white;">Odpowiedź: </span><span id="outputNumber" style="background-color: white;"></span>
                <br>
                <input type="submit" value="Start">
            </form>
        </div>
    </main>
    <footer></footer>
</body>
</html>

<script>
    var form = document.getElementById("myForm");
    function handleForm(event) { event.preventDefault(); } 
    form.addEventListener('submit', handleForm);

    function convert(inputNum,inputType,outputType) {
        let numInDec = parseInt(inputNum.value,inputType.value);
        let answer = convert10toX(parseInt(numInDec),parseInt(outputType.value));
        console.log(answer);
        let answerField = document.getElementById('outputNumber');
        answerField.innerHTML = answer;
        return false;
    }
    
    function convert10toX(decNum,XNum){
        let answer = "";
        while (decNum > 0) {
            let remainder = decNum % XNum;
            decNum = (decNum - remainder) / XNum;
            answer += remainder.toString(36).toUpperCase();
            console.log("rm",remainder,"dec",decNum);
        }
        return answer.split("").reverse().join("");
    }
</script>